webpackJsonp([3],{IyFv:function(t,e){},NcHz:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("mvHQ"),a=i.n(s),r=i("scp/"),o=i.n(r),n=i("CdWr"),l=i.n(n),c={props:{multiIpt:{type:Boolean,default:!0},sheettype:{default:1}},data:function(){return{pic1:o.a,pic2:l.a,sheetid:"",errorMsg1:"",errorMsg2:"",helpDisplay:!0}},methods:{changePage:function(t,e){console.log("index:",t),console.log("title:",e)},showHelp:function(){this.helpDisplay=!this.helpDisplay},getInvoiceBillInfoWithDetail:function(){var t=this;this.$refs.ipts.some(function(t){return 0===t.value.length})?this.errorMsg1="必须录入完整提取码和金额":(this.errorMsg1="",this.errorMsg2="",this.sheetid="",this.$refs.ipts.forEach(function(e,i){t.sheetid+=e.value,i<t.$refs.ipts.length-1&&(t.sheetid+="-")}),this.$http.getInvoiceBillInfoWithDetail({ticketQC:this.sheetid,sheettype:this.sheettype}).then(function(e){0==e.code?0==e.data.flag?(window.localStorage.setItem("scanInvoice",a()(e.data)),t.$router.push("scan-invoice")):1==e.data.flag&&30==e.data.iqstatus?t.$toast("正在开票，请稍后"):t.$router.push({name:"invoice-info",query:{iqseqno:e.data.iqseqno}}):-6==e.code?(t.errorMsg1="校验失败",t.errorMsg2="请在提货后开具发票"):-9==e.code?t.$dialog.alert({message:e.message,confirmButtonText:"知道了"}):(t.errorMsg1="校验失败",t.errorMsg2=e.message)}))},inputCode:function(t,e){var i=this;this.sheetid="",this.$refs.ipts.forEach(function(t,e){i.sheetid+=t.value,e<i.$refs.ipts.length-1&&(i.sheetid+="-")}),"---"===this.sheetid&&(this.sheetid="")}},computed:{getIptArray:function(){return this.multiIpt?[{maxLength:4,placeholder:"门店号"},{maxLength:4,placeholder:"收银号"},{maxLength:3,placeholder:"流水号"},{maxLength:-1,placeholder:"金额"}]:[{maxLength:14,placeholder:"单号"},{maxLength:-1,placeholder:"金额"}]}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{height:"370px"}},[i("section",{staticClass:"extract_ipt_box van-hairline--top-bottom"},[i("label",[t._v("发票提取码")]),t._v(" "),i("section",t._l(t.getIptArray,function(t,e){return i("div",{key:e},[i("input",{ref:"ipts",refInFor:!0,attrs:{type:"text",placeholder:t.placeholder}})])}))]),t._v(" "),i("van-row",[i("van-col",{staticClass:"fs14 red margin-top-10",attrs:{offset:"1",span:"23"}},[t._v("示例：1001-0346-3473431-18.6")])],1),t._v(" "),i("div",{staticStyle:{padding:"0 20px","margin-top":"40px"}},[i("van-button",{staticStyle:{"background-color":"#0066CC"},attrs:{type:"primary","bottom-action":""},on:{click:t.getInvoiceBillInfoWithDetail}},[t._v("校验")]),t._v(" "),i("div",[i("p",{staticClass:"tac red"},[t._v(t._s(t.errorMsg1))]),t._v(" "),i("p",{staticClass:"tac red"},[t._v(t._s(t.errorMsg2))])])],1)],1)])},staticRenderFns:[]};var p=i("VU/8")(c,h,!1,function(t){i("qyAE"),i("IyFv")},"data-v-b39ea33c",null);e.default=p.exports},qyAE:function(t,e){}});