webpackJsonp([6],{"26dS":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),n=(a("TVG1"),a("lbHh")),o=a.n(n),l={data:function(){return{qr:"",multiIpt:!0,sheettype:1}},created:function(){this.$toast.loading({duration:0,mask:!0,forbidClick:!0}),this.getWxConfig()},methods:{toInvoiceList:function(){this.$router.push("invoice-list")},changePage:function(t,e){1==t?this.$router.push("scan"):this.$router.push("extract")},initWxdata:function(){var t=this;this.$http.getInvoiceBillInfoWithDetail({ticketQC:this.qr,sheettype:this.sheettype}).then(function(e){0==e.code?0==e.data.flag?(window.localStorage.setItem("scanInvoice",s()(e.data)),t.$router.push("scan-invoice")):1==e.data.flag&&30==e.data.iqstatus?t.$toast("正在开票，请稍后"):t.$router.push({name:"invoice-info",query:{iqseqno:e.data.iqseqno}}):-2==e.code?t.$toast.fail("提取码错误"):-6==e.code?t.$toast.fail("开票数据尚未处理完成，请稍后再试"):-9==e.code?t.$toast.fail(e.message):t.$toast.fail("不能识别二维码或二维码不正确")})},getWxConfig:function(){var t=this;this.$http.getWxConfig({token:"",changeshopid:""}).then(function(e){if(0==e.code&&e.data){if(o.a.set("helpImg",e.data.weixinHelp),t.sheettype=e.data.sheettype,""==t.sheettype)return void t.$toast("无法获取到业务类型");if(1!=t.sheettype&&(t.multiIpt=!1),o.a.set("sheettype",t.sheettype),t.$toast.clear(),e.data.useQR,1==e.data.usePhone?o.a.set("usePhone",1):o.a.set("usePhone",0),1==e.data.useEmail?o.a.set("useEmail",1):o.a.set("useEmail",0),"null"!=e.data.qr&&""!=e.data.qr&&null!=e.data.qr&&e.data.qr.length>1){e.data.qr.split("-");t.qr=e.data.qr,t.initWxdata()}}else t.$toast("请从菜单进入")}).catch(function(t){console.log(t)})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{attrs:{fixed:"",title:"微信开票申请"}},[a("van-icon",{attrs:{slot:"left",name:"wap-home"},slot:"left"}),t._v(" "),a("van-icon",{attrs:{slot:"right",name:"wap-nav"},on:{click:t.toInvoiceList},slot:"right"})],1),t._v(" "),a("van-tabs",{staticClass:"tab-bar",on:{click:t.changePage}},[a("van-tab",{attrs:{title:"提取码开票"}}),t._v(" "),a("van-tab",{attrs:{title:"扫码开票"}})],1),t._v(" "),a("keep-alive",[a("router-view",{staticClass:"homeChildView",attrs:{multiIpt:t.multiIpt,sheettype:t.sheettype}})],1)],1)},staticRenderFns:[]};var c=a("VU/8")(l,r,!1,function(t){a("XllK")},"data-v-2bc8fe1a",null);e.default=c.exports},XllK:function(t,e){}});